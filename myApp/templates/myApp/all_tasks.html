{% extends 'base.html' %}

{% block content %}
  <div class="container mt-5">
    <h2 class="text-center mb-4 text-primary">Categories</h2>
    <div class="list-group mb-5">
      <a href="{% url 'myApp:all_tasks' %}" class="list-group-item list-group-item-action list-group-item-light py-3 mb-2 rounded-pill fw-bold">
        <i class="bi bi-house-door-fill"></i> All Tasks
      </a>

      <!-- form -->
      <form action="" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Search</button>
      </form>


      {% for category in categories %}
        <a href="{% url 'myApp:category_filter_list' category.pk %}" class="list-group-item list-group-item-action list-group-item-light py-3 mb-2 rounded-pill fw-semibold">
          <i class="bi bi-tags-fill"></i> {{ category.title }}
        </a>
      {% endfor %}
    </div>

    <h3 class="text-center mb-4 text-success">List of tasks for All Tasks</h3>

    <div class="row justify-content-center">
      {% for task in tasks %}
        <div class="col-md-4 mb-4">
          <div class="card shadow-lg">
            <div class="card-header bg-primary text-white">
              {{ task.category }}
            </div>
            <div class="card-body">
              <h5 class="card-title">{{ task.title }}</h5>
              <p class="card-text">{{ task.description }}</p>
              <a href="#" class="btn btn-outline-warning">Edit</a>
              <a href="#" class="btn btn-outline-danger">Delete</a>
            </div>
            <div class="card-footer text-muted">
              Due date: {{ task.deadline }}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock content %}
